---
title: Linux 进程间通信
date: 2017-10-03 11:27:36
categories: "Linux"
tags: [Linux, c]
keyworlds: Linux, 进程, 通信
description:
---

>进程间通信方式

1. 管道(pipe)
2. 系统IPC(消息队列、信号量、共享存储）
3. socket

>管道

1. 普通管道：半双工通信方式，数据单向流动且只能在具有亲缘关系（父子进程关系）的进程间使用。
2. 流管道：与普通管道不同的是，它允许双向传送
3. 有名管道：与普通管道不同的是它允许在无亲缘关系的进程间使用。

>系统IPC

1. 共享内存：映射一段能被其他进程所访问的内存，这段共享内存由一个进程所创建，但是多个进程都能访问。
    ***共享内存是最快的IPC方式***，是针对进程间通信效率低而设计的。往往与其往往与其它通信机制，如信号量结合使用，来达到进程间的同步及互斥。
2. 消息对列：消息队列是由消息链表，存放在内核中并由消息队列标识符标识。消息队列克服了信号传递信息少、管道只能承载无格式字节流以及缓冲区大小受限等缺点。
3. 信号量：信号量是一个计数器，可以用来控制多个进程对共享资源的访问。它常作为一种锁机制，防止某进程正在访问共享资源时，其他进程也访问该资源。因此，主要作为进程间以及同一进程内不同线程之间的同步手段。 

>SOCKET

套解口也是一种进程间通信机制，与其他通信机制不同的是，它可用于不同机器间的进程通信

>各种通信方式的比较和优缺点

管道：速度慢，容量有限，只有父子进程能通讯
FIFO：任何进程间都能通讯，但速度慢
消息队列：容量受到系统限制，且要注意第一次读的时候，要考虑上一次没有读完数据的问题
信号量：不能传递复杂消息，只能用来同步
共享内存区：能够很容易控制容量，速度快，但要保持同步，比如一个进程在写的时候，另一个进程要注意读写的问题，相当于线程中的线程安全，当然，共享内存区同样可以用作线程间通讯，不过没这个必要，线程间本来就已经共享了同一进程内的一块内存